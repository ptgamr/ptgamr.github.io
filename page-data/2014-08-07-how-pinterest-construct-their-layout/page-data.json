{"componentChunkName":"component---src-templates-blog-post-js","path":"/2014-08-07-how-pinterest-construct-their-layout/","result":{"data":{"site":{"siteMetadata":{"title":"Anh Trinh's blog"}},"markdownRemark":{"id":"fea872ed-70b7-53dd-8313-a9e4f2ac84f0","excerpt":"I love Pinterest because of the Pins layout. And recently, i developed a small Mobile App for choosing Hairstyles, i want to mimic Pinterest layout for my image…","html":"<p>I love Pinterest because of the Pins layout. And recently, i developed a small Mobile App for choosing Hairstyles, i want to mimic Pinterest layout for my image gallery.</p>\n<p>And here is how Pinterest do it (the algorithm):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#Beforehand:\n\n- Absolutely position the pin containers\n- Determine column width\n- Determine margin between columns (the gutter)\n\n#Setup an array:\n\n- Get the width of the parent container; calculate the # of columns that will fit\n- Create an empty array, with a length equaling the # of columns. Use this array to store the height of each column as you build the layout, e.g. the height of column 1 is stored as array[0]\n\n#Loop through each pin:\n\n- Put each pin in the shortest column at the moment it is added\n- &quot;left:&quot; === the column # (index array) times the column width + margin\n- &quot;top:&quot; === The value in the array (height) for the shortest column at that time\n\nFinally, add the height of the pin to the column height (array value)\nThe result is lightweight. In Chrome, laying out a full page of 50+ pins takes &lt;10ms</code></pre></div>\n<p>This is enough for for a fork on Github, but i found <a href=\"http://masonry.desandro.com\">Masonry</a>, just serve my purpose well. So why we have to re-invente the wheel? :-)</p>\n<p>Next comming post, i will tell you how i set up Masonry in my AngularJS application, together with lazy loading (<a href=\"https://github.com/toddmotto/echo\">Echo.js</a> from TodMotto).</p>","frontmatter":{"title":"How Pinterest construct their layout?","date":"August 07, 2014","description":null}}},"pageContext":{"slug":"/2014-08-07-how-pinterest-construct-their-layout/","previous":{"fields":{"slug":"/2014-07-23-angulars-dependency-injection-annotation-process/"},"frontmatter":{"title":"Angular’s dependency injection annotation process"}},"next":{"fields":{"slug":"/2014-08-28-rename-your-app-in-cordova-config-xml-make-the-build-failed/"},"frontmatter":{"title":"Rename your App in Cordova config.xml make the Build Failed"}}}},"staticQueryHashes":["2841359383","916993862"]}