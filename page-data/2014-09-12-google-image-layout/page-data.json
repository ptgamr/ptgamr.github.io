{"componentChunkName":"component---src-templates-blog-post-js","path":"/2014-09-12-google-image-layout/","result":{"data":{"site":{"siteMetadata":{"title":"Anh Trinh's blog"}},"markdownRemark":{"id":"417b9de3-1e23-5433-a843-e4488267af85","excerpt":"Recently, my project required me to implement an image gallery which has the layout look like Google Image Search, Flickr Explore, Google Plus Photo Gallery…","html":"<p>Recently, my project required me to implement an image gallery which has the layout look like Google Image Search, Flickr Explore, Google Plus Photo Gallery. They have a really nice looking gallery, with images aligned without croping, re-ordering, and the images scale by its ratio.</p>\n<p>I wonder how they did that, and after some investigation on the internet, i found a very nice solution. Which i will share with you here.</p>\n<p><a href=\"http://ptgamr.github.io/google-image-layout/\">LIVE DEMO</a></p>\n<h2>The Algorithm</h2>\n<h3>Initial Images</h3>\n<p><img src=\"http://i.imgur.com/9d31ohG.png\" alt=\"initial\"></p>\n<p>Let say we have 3 images, width size <code class=\"language-text\">w1xh1</code>, <code class=\"language-text\">w2xh2</code>, <code class=\"language-text\">w3xh3</code> corespondingly. We want to align them in one line.</p>\n<h3>Expected Alignment</h3>\n<p><img src=\"http://i.imgur.com/3Krnjy5.png\" alt=\"Expected\"></p>\n<p>The <code class=\"language-text\">container width</code> is known, now we have to find w1’xh1’, w2’xh2’, w3’xh3’.</p>\n<p>The trick is: <code class=\"language-text\">all the images of the same row are have the same height.</code></p>\n<p>Which mean <code class=\"language-text\">h1&#39; = h2&#39; = h3&#39;</code></p>\n<p>Appling some basic maths lead us to the Formular</p>\n<h3>The Formular</h3>\n<p><img src=\"http://i.imgur.com/IMgadeK.png\" alt=\"The Formular\"></p>\n<h3>How many images should fit in one row?</h3>\n<p><img src=\"http://i.imgur.com/USNb3s9.png\" alt=\"How many images?\"></p>\n<p>Imagine that we have <code class=\"language-text\">n</code> images. We have to define a threshold <code class=\"language-text\">maxHeight</code> for the height, says i dont’ want any of the row has the height more than that. What we have to do then is to make the choice:</p>\n<ul>\n<li>start <code class=\"language-text\">x = 1</code></li>\n<li>Extract <code class=\"language-text\">x</code> images from the array</li>\n<li>calculate <code class=\"language-text\">h</code></li>\n<li>if <code class=\"language-text\">h &lt; maxHeight</code> then put those images into the row</li>\n<li>otherwise, increase counting <code class=\"language-text\">x = x + 1</code>, then start over again</li>\n</ul>\n<h2>See it in action</h2>\n<p><a href=\"http://ptgamr.github.io/google-image-layout/\">http://ptgamr.github.io/google-image-layout/</a></p>\n<p>I’ve implemented a small library on <a href=\"https://github.com/ptgamr/google-image-layout\">my github account</a> to help you achive this easily. If you want to understand more about the implementation, pls take a look into the code. If you have any suggestion, don’t hesitate writing me a comment.</p>","frontmatter":{"title":"Google Image Layout","date":"September 12, 2014","description":null}}},"pageContext":{"slug":"/2014-09-12-google-image-layout/","previous":{"fields":{"slug":"/2014-08-28-rename-your-app-in-cordova-config-xml-make-the-build-failed/"},"frontmatter":{"title":"Rename your App in Cordova config.xml make the Build Failed"}},"next":{"fields":{"slug":"/2014-09-13-translate3d-vs-translate-performance/"},"frontmatter":{"title":"CSS3: Translate3d vs Translate performance"}}}},"staticQueryHashes":["2841359383","916993862"]}